function createRowX(){}function createPoints(){for(var a=[],b=0;3>b;b+=.25){for(var c=3;c>0;c-=.25){var d={x:c,y:3,z:b};a.push(d)}for(c=2.75;c>0;c-=.25){var d={x:3,y:c,z:b};a.push(d)}for(c=3;c>-0;c-=.25){var d={x:0,y:c,z:b};a.push(d)}for(var c=3;c>-.25;c-=.25){var d={x:c,y:0,z:b};a.push(d)}}return a}!function(a){if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.Isomer=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){b.exports=a("./js/isomer")},{"./js/isomer":4}],2:[function(a,b){function c(a){this.elem=a,this.ctx=this.elem.getContext("2d"),this.width=a.width,this.height=a.height}c.prototype.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},c.prototype.path=function(a,b){this.ctx.beginPath(),this.ctx.moveTo(a[0].x,a[0].y);for(var c=1;c<a.length;c++)this.ctx.lineTo(a[c].x,a[c].y);this.ctx.closePath(),this.ctx.save(),this.ctx.globalAlpha=b.a,this.ctx.fillStyle=this.ctx.strokeStyle=b.toHex(),this.ctx.stroke(),this.ctx.fill(),this.ctx.restore()},b.exports=c},{}],3:[function(a,b){function c(a,b,c,d){this.r=parseInt(a||0),this.g=parseInt(b||0),this.b=parseInt(c||0),this.a=parseFloat(Math.round(100*d)/100||1),this.loadHSL()}c.prototype.toHex=function(){var a=(256*this.r*256+256*this.g+this.b).toString(16);return a.length<6&&(a=new Array(6-a.length+1).join("0")+a),"#"+a},c.prototype.lighten=function(a,b){b=b||new c(255,255,255);var d=new c(b.r/255*this.r,b.g/255*this.g,b.b/255*this.b,this.a);return d.l=Math.min(d.l+a,1),d.loadRGB(),d},c.prototype.loadHSL=function(){var a,b,c=this.r/255,d=this.g/255,e=this.b/255,f=Math.max(c,d,e),g=Math.min(c,d,e),h=(f+g)/2;if(f===g)a=b=0;else{var i=f-g;switch(b=h>.5?i/(2-f-g):i/(f+g),f){case c:a=(d-e)/i+(e>d?6:0);break;case d:a=(e-c)/i+2;break;case e:a=(c-d)/i+4}a/=6}this.h=a,this.s=b,this.l=h},c.prototype.loadRGB=function(){var a,b,c,d=this.h,e=this.s,f=this.l;if(0===e)a=b=c=f;else{var g=.5>f?f*(1+e):f+e-f*e,h=2*f-g;a=this._hue2rgb(h,g,d+1/3),b=this._hue2rgb(h,g,d),c=this._hue2rgb(h,g,d-1/3)}this.r=parseInt(255*a),this.g=parseInt(255*b),this.b=parseInt(255*c)},c.prototype._hue2rgb=function(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+(b-a)*(2/3-c)*6:a},b.exports=c},{}],4:[function(a,b){function c(a,b){b=b||{},this.canvas=new d(a),this.angle=Math.PI/6,this.scale=b.scale||70,this._calculateTransformation(),this.originX=b.originX||this.canvas.width/2,this.originY=b.originY||.9*this.canvas.height,this.lightPosition=b.lightPosition||new i(2,-1,3),this.lightAngle=this.lightPosition.normalize(),this.colorDifference=.2,this.lightColor=b.lightColor||new e(255,255,255)}var d=a("./canvas"),e=a("./color"),f=a("./path"),g=a("./point"),h=a("./shape"),i=a("./vector");c.prototype.setLightPosition=function(a,b,c){this.lightPosition=new i(a,b,c),this.lightAngle=this.lightPosition.normalize()},c.prototype._translatePoint=function(a){var b=new g(a.x*this.transformation[0][0],a.x*this.transformation[0][1]),c=new g(a.y*this.transformation[1][0],a.y*this.transformation[1][1]),d=this.originX+b.x+c.x,e=this.originY-b.y-c.y-a.z*this.scale;return new g(d,e)},c.prototype.add=function(a,b){if("[object Array]"==Object.prototype.toString.call(a))for(var c=0;c<a.length;c++)this.add(a[c],b);else if(a instanceof f)this._addPath(a,b);else if(a instanceof h){var d=a.orderedPaths();for(var c in d)this._addPath(d[c],b)}},c.prototype._addPath=function(a,b){b=b||new e(120,120,120);var c=i.fromTwoPoints(a.points[1],a.points[0]),d=i.fromTwoPoints(a.points[2],a.points[1]),f=i.crossProduct(c,d).normalize(),g=i.dotProduct(f,this.lightAngle);color=b.lighten(g*this.colorDifference,this.lightColor),this.canvas.path(a.points.map(this._translatePoint.bind(this)),color)},c.prototype._calculateTransformation=function(){this.transformation=[[this.scale*Math.cos(this.angle),this.scale*Math.sin(this.angle)],[this.scale*Math.cos(Math.PI-this.angle),this.scale*Math.sin(Math.PI-this.angle)]]},c.Canvas=d,c.Color=e,c.Path=f,c.Point=g,c.Shape=h,c.Vector=i,b.exports=c},{"./canvas":2,"./color":3,"./path":5,"./point":6,"./shape":7,"./vector":8}],5:[function(a,b){function c(a){this.points="[object Array]"===Object.prototype.toString.call(a)?a:Array.prototype.slice.call(arguments)}var d=a("./point");c.prototype.push=function(a){this.points.push(a)},c.prototype.reverse=function(){var a=Array.prototype.slice.call(this.points);return new c(a.reverse())},c.prototype.translate=function(){var a=arguments;return new c(this.points.map(function(b){return b.translate.apply(b,a)}))},c.prototype.rotateX=function(){var a=arguments;return new c(this.points.map(function(b){return b.rotateX.apply(b,a)}))},c.prototype.rotateY=function(){var a=arguments;return new c(this.points.map(function(b){return b.rotateY.apply(b,a)}))},c.prototype.rotateZ=function(){var a=arguments;return new c(this.points.map(function(b){return b.rotateZ.apply(b,a)}))},c.prototype.scale=function(){var a=arguments;return new c(this.points.map(function(b){return b.scale.apply(b,a)}))},c.prototype.depth=function(){var a,b=0;for(a=0;a<this.points.length;a++)b+=this.points[a].depth();return b/(this.points.length||1)},c.Rectangle=function(a,b,e){void 0===b&&(b=1),void 0===e&&(e=1);var f=new c([a,new d(a.x+b,a.y,a.z),new d(a.x+b,a.y+e,a.z),new d(a.x,a.y+e,a.z)]);return f},c.Circle=function(a,b,e){e=e||20;var f,g=new c;for(f=0;e>f;f++)g.push(new d(b*Math.cos(2*f*Math.PI/e),b*Math.sin(2*f*Math.PI/e),0));return g.translate(a.x,a.y,a.z)},c.Star=function(a,b,e,f){var g,h,i=new c;for(g=0;2*f>g;g++)h=g%2===0?b:e,i.push(new d(h*Math.cos(g*Math.PI/f),h*Math.sin(g*Math.PI/f),0));return i.translate(a.x,a.y,a.z)},b.exports=c},{"./point":6}],6:[function(a,b){function c(a,b,d){return this instanceof c?(this.x="number"==typeof a?a:0,this.y="number"==typeof b?b:0,void(this.z="number"==typeof d?d:0)):new c(a,b,d)}c.ORIGIN=new c(0,0,0),c.prototype.translate=function(a,b,d){return new c(this.x+a,this.y+b,this.z+d)},c.prototype.scale=function(a,b,c,d){var e=this.translate(-a.x,-a.y,-a.z);return void 0===c&&void 0===d?c=d=b:d="number"==typeof d?d:1,e.x*=b,e.y*=c,e.z*=d,e.translate(a.x,a.y,a.z)},c.prototype.rotateX=function(a,b){var c=this.translate(-a.x,-a.y,-a.z),d=c.z*Math.cos(b)-c.y*Math.sin(b),e=c.z*Math.sin(b)+c.y*Math.cos(b);return c.z=d,c.y=e,c.translate(a.x,a.y,a.z)},c.prototype.rotateY=function(a,b){var c=this.translate(-a.x,-a.y,-a.z),d=c.x*Math.cos(b)-c.z*Math.sin(b),e=c.x*Math.sin(b)+c.z*Math.cos(b);return c.x=d,c.z=e,c.translate(a.x,a.y,a.z)},c.prototype.rotateZ=function(a,b){var c=this.translate(-a.x,-a.y,-a.z),d=c.x*Math.cos(b)-c.y*Math.sin(b),e=c.x*Math.sin(b)+c.y*Math.cos(b);return c.x=d,c.y=e,c.translate(a.x,a.y,a.z)},c.prototype.depth=function(){return this.x+this.y-2*this.z},c.distance=function(a,b){var c=b.x-a.x,d=b.y-a.y,e=b.z-a.z;return Math.sqrt(c*c+d*d+e*e)},b.exports=c},{}],7:[function(a,b){function c(a){this.paths="[object Array]"===Object.prototype.toString.call(a)?a:Array.prototype.slice.call(arguments)}var d=a("./path"),e=a("./point");c.prototype.push=function(a){this.paths.push(a)},c.prototype.translate=function(){var a=arguments;return new c(this.paths.map(function(b){return b.translate.apply(b,a)}))},c.prototype.rotateX=function(){var a=arguments;return new c(this.paths.map(function(b){return b.rotateX.apply(b,a)}))},c.prototype.rotateY=function(){var a=arguments;return new c(this.paths.map(function(b){return b.rotateY.apply(b,a)}))},c.prototype.rotateZ=function(){var a=arguments;return new c(this.paths.map(function(b){return b.rotateZ.apply(b,a)}))},c.prototype.scale=function(){var a=arguments;return new c(this.paths.map(function(b){return b.scale.apply(b,a)}))},c.prototype.orderedPaths=function(){var a=this.paths.slice();return a.sort(function(a,b){return b.depth()-a.depth()})},c.extrude=function(a,b){b="number"==typeof b?b:1;var e,f=a.translate(0,0,b),g=new c;for(g.push(a.reverse()),g.push(f),e=0;e<a.points.length;e++)g.push(new d([f.points[e],a.points[e],a.points[(e+1)%a.points.length],f.points[(e+1)%f.points.length]]));return g},c.Prism=function(a,b,f,g){b="number"==typeof b?b:1,f="number"==typeof f?f:1,g="number"==typeof g?g:1;var h=new c,i=new d([a,new e(a.x+b,a.y,a.z),new e(a.x+b,a.y,a.z+g),new e(a.x,a.y,a.z+g)]);h.push(i),h.push(i.reverse().translate(0,f,0));var j=new d([a,new e(a.x,a.y,a.z+g),new e(a.x,a.y+f,a.z+g),new e(a.x,a.y+f,a.z)]);h.push(j),h.push(j.reverse().translate(b,0,0));var k=new d([a,new e(a.x+b,a.y,a.z),new e(a.x+b,a.y+f,a.z),new e(a.x,a.y+f,a.z)]);return h.push(k.reverse()),h.push(k.translate(0,0,g)),h},c.Pyramid=function(a,b,f,g){b="number"==typeof b?b:1,f="number"==typeof f?f:1,g="number"==typeof g?g:1;var h=new c,i=new d([a,new e(a.x+b,a.y,a.z),new e(a.x+b/2,a.y+f/2,a.z+g)]);h.push(i),h.push(i.rotateZ(a.translate(b/2,f/2),Math.PI));var j=new d([a,new e(a.x+b/2,a.y+f/2,a.z+g),new e(a.x,a.y+f,a.z)]);return h.push(j),h.push(j.rotateZ(a.translate(b/2,f/2),Math.PI)),h},c.Cylinder=function(a,b,e,f){b="number"==typeof b?b:1;var g=d.Circle(a,b,e),h=c.extrude(g,f);return h},b.exports=c},{"./path":5,"./point":6}],8:[function(a,b){function c(a,b,c){this.i="number"==typeof a?a:0,this.j="number"==typeof b?b:0,this.k="number"==typeof c?c:0}c.fromTwoPoints=function(a,b){return new c(b.x-a.x,b.y-a.y,b.z-a.z)},c.crossProduct=function(a,b){var d=a.j*b.k-b.j*a.k,e=-1*(a.i*b.k-b.i*a.k),f=a.i*b.j-b.i*a.j;return new c(d,e,f)},c.dotProduct=function(a,b){return a.i*b.i+a.j*b.j+a.k*b.k},c.prototype.magnitude=function(){return Math.sqrt(this.i*this.i+this.j*this.j+this.k*this.k)},c.prototype.normalize=function(){var a=this.magnitude();return new c(this.i/a,this.j/a,this.k/a)},b.exports=c},{}]},{},[1])(1)}),function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();var IsomerBuilder=function(a){this.div=a;var b=Isomer.Point,c=(Isomer.Path,Isomer.Shape),d=(Isomer.Color,this);this.bg=document.createElement("canvas"),this.bg.width=800,this.bg.height=600,this.bg.style.position="absolute",this.bg.style["z-index"]="0",this.fg=document.createElement("canvas"),this.fg.width=800,this.fg.height=600,this.fg.style.position="absolute",this.fg.style["z-index"]="1",a.appendChild(this.fg),a.appendChild(this.bg),this.isobg=new Isomer(this.bg),this.isofg=new Isomer(this.fg);var e=function(a,b,c){this.coords=a,this.startTime=b,this.color=c};this._buildShape=function(a,c){return d._settings.shape.scale(b.ORIGIN,d._settings.scale.x,d._settings.scale.y,d._settings.scale.z).translate(a.coords.x,a.coords.y,d._settings.easing(c-a.startTime,5,-5+a.coords.z,1))},this._placeShape=function(a){return d._settings.shape.scale(b.ORIGIN,d._settings.scale.x,d._settings.scale.y,d._settings.scale.z).translate(a.coords.x,a.coords.y,a.coords.z)},this._render=function(a,b){for(var c=[],e=0;e<d.cubes.length;e++){var f=d.cubes[e];b>f.startTime&&d.isofg.add(d._buildShape(f,b),d._settings.color),b>f.startTime+1&&(d.isobg.add(d._placeShape(f)),c.push(e))}for(var e=0;e<c.length;e++)d.cubes.splice(c[e],1)},this._scene=function(){d.canvas.width=d.canvas.width,d._render(d.points,d.time),d.time+=1/d._settings.fps},this.build=function(a,f){if("undefined"==typeof f)var f={color:new Isomer.Color(50,60,160),scale:{x:.25,y:.25,z:.25},shape:c.Prism(b.ORIGIN,new Isomer.Color(50,60,160)),easing:function(a,b,c,d){return a>=d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},interval:.1,fps:30};d.time=0,d._settings=f,d.cubes=[],d.timeCounter=0;for(var g=0;g<a.length;g++){var h=a[g],i={x:h.x,y:h.y,z:h.z};d.cubes.push(new e(i,d.timeCounter,d._settings.color)),d.timeCounter+=d._settings.interval}d.totalTime=0;var j,k=function(){requestAnimationFrame(k);var a=(new Date).getTime(),b=a-(j||a);j=a,d.time+=parseFloat(b)/1e3,d.fg.width=d.fg.width,d._render(d.points,d.time)};k()},this.stop=function(){clearInterval(d._intervalId)}},builder;$(document).ready(function(){var a=document.getElementById("isomer-builder");builder=new IsomerBuilder(a),builder.build(createPoints())});